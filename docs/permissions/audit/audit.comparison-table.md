## üìä Final Comparison Table: Previous vs New Conditions

| Action                            | Endpoint                                              | Previous Permission | New Permission | Previous Conditions                            | New Conditions                                 | Password Required | Key Changes                                   |
| --------------------------------- | ----------------------------------------------------- | ------------------- | -------------- | ---------------------------------------------- | ---------------------------------------------- | ----------------- | --------------------------------------------- |
| **Download**                      | `GET /audit/export/all`                               | READ                | READ           | READ permission                                | READ permission                                | ‚ùå No             | No change - for export                        |
| **Bulk Upload**                   | `POST /audit/bulk-import`                             | **CREATE**          | **UPDATE**     | CREATE permission                              | UPDATE permission + **Internal user**          | ‚ùå No             | Changed CREATE ‚Üí UPDATE, added internal check |
| **Email Report**                  | Frontend                                              | N/A                 | N/A            | Frontend only                                  | Frontend only                                  | ‚ùå No             | Handled on frontend                           |
| **Add to Batch**                  | `PATCH /audit/:id`                                    | UPDATE              | UPDATE         | UPDATE permission                              | UPDATE permission + **Internal user**          | ‚ùå No             | Added internal check (via Edit Audit)         |
| **Upload Report**                 | `PATCH /audit/bulk-upload-report`                     | UPDATE              | UPDATE         | UPDATE permission                              | UPDATE permission + **Internal user**          | ‚ùå No             | Added internal check                          |
| **Add Audit**                     | `POST /audit`                                         | **CREATE**          | **UPDATE**     | CREATE permission                              | UPDATE permission + **Internal user**          | ‚ùå No             | Changed CREATE ‚Üí UPDATE, added internal check |
| **Archive Audits (Bulk)**         | `PATCH /audit/bulk-archive`                           | UPDATE              | UPDATE         | UPDATE permission                              | UPDATE permission + **Internal user**          | ‚ùå No             | Added internal check                          |
| **Bulk Update**                   | `POST /audit/bulk-update`                             | UPDATE              | UPDATE         | UPDATE permission (Super Admin or Internal)    | UPDATE permission + **Internal user**          | ‚ùå No             | Simplified to internal-only                   |
| **Archived Reports**              | `GET /audit` (with filter)                            | READ                | READ           | READ permission                                | READ permission                                | ‚ùå No             | No change - uses query filter                 |
| **Archive**                       | `PATCH /audit/:id/archive`                            | UPDATE              | UPDATE         | UPDATE permission (Super Admin or Internal)    | UPDATE permission + **Internal user**          | ‚ùå No             | Already had internal check ‚úÖ                 |
| **Delete**                        | `POST /audit/:id/delete`<br>`POST /audit/bulk-delete` | DELETE              | DELETE         | DELETE permission + **Super Admin** + password | DELETE permission + **Super Admin** + password | ‚úÖ Yes            | Already implemented ‚úÖ                        |
| **Upload Report URL**             | `PATCH /audit/:id/report-url`                         | UPDATE              | UPDATE         | UPDATE permission                              | UPDATE permission + **Internal user**          | ‚ùå No             | Added internal check                          |
| **Download Report URL**           | `GET /audit/:id`                                      | READ                | READ           | READ permission                                | READ permission                                | ‚ùå No             | No change - report_url in response            |
| **Edit Audit**                    | `PATCH /audit/:id`                                    | UPDATE              | UPDATE         | UPDATE permission (Super Admin or Internal)    | UPDATE permission + **Internal user**          | ‚ùå No             | Already had internal check ‚úÖ                 |
| **Edit Amount Confirmed**         | N/A (Super Admin direct)                              | N/A                 | N/A            | Super Admin only                               | Super Admin only                               | ‚ùå No             | Super Admin can edit directly                 |
| **Edit Amount Confirmed Request** | `POST /audit/:id/request-update-amount-confirmed`     | READ                | READ           | READ permission (external users) + password    | READ permission (external users) + password    | ‚úÖ Yes            | Already implemented ‚úÖ                        |
