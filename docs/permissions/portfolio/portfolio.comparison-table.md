# üìä Final Comparison Table: Previous vs New Conditions

| #      | Action                    | API Endpoint                                                            | Previous Conditions                                 | New Conditions                                                                            | Password Required | Reason Required                 | Changes Made       |
| ------ | ------------------------- | ----------------------------------------------------------------------- | --------------------------------------------------- | ----------------------------------------------------------------------------------------- | ----------------- | ------------------------------- | ------------------ |
| **1**  | **Bulk Upload Portfolio** | `POST /portfolio/bulk-import`                                           | Permission: CREATE<br>Access: Any                   | ‚úÖ Permission: UPDATE/ALL<br>‚úÖ Access: PARTIAL/ALL<br>‚úÖ Must be Internal User           | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **2**  | **Bulk Update Portfolio** | `POST /portfolio/bulk-update`                                           | Permission: UPDATE<br>Internal or Super Admin       | ‚úÖ Permission: UPDATE/ALL<br>‚úÖ Access: PARTIAL/ALL<br>‚úÖ Must be Internal User           | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **3**  | **Download (Export)**     | `GET /portfolio/export/all`                                             | Permission: READ<br>Access: Any                     | ‚úÖ Super Admin ONLY                                                                       | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **4**  | **Add New Portfolio**     | `POST /portfolio`                                                       | Permission: CREATE<br>Access: Any                   | ‚úÖ Permission: UPDATE/ALL<br>‚úÖ Access: PARTIAL/ALL<br>‚úÖ Must be Internal User           | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **5**  | **Deactivate Switch**     | `POST /portfolio/:id/deactivate`                                        | Internal or Super Admin<br>(both direct or pending) | ‚úÖ **Super Admin**: Direct deactivation<br>‚úÖ **Internal**: Pending request               | ‚úÖ Yes (both)     | ‚ùå No (SA)<br>‚úÖ Yes (Internal) | ‚úÖ **UPDATED**     |
| **6**  | **Activate Switch**       | `POST /portfolio/:id/activate`                                          | Internal or Super Admin<br>(both direct or pending) | ‚úÖ **Super Admin**: Direct activation<br>‚úÖ **Internal**: Pending request                 | ‚úÖ Yes (both)     | ‚ùå No (SA)<br>‚úÖ Yes (Internal) | ‚úÖ **UPDATED**     |
| **7**  | **Delete**                | `POST /portfolio/:id/delete`                                            | Super Admin only + password                         | ‚úÖ Super Admin ONLY + password                                                            | ‚úÖ Yes            | ‚ùå No                           | ‚úÖ Already correct |
| **8**  | **Edit Portfolio**        | `PATCH /portfolio/:id`                                                  | Permission: UPDATE<br>Resource-level check          | ‚úÖ Permission: UPDATE/ALL<br>‚úÖ Access: PARTIAL/ALL<br>‚úÖ Must be Internal User           | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **9**  | **Contact (Send Email)**  | `POST /portfolio/:id/send-email`                                        | Permission: READ<br>Resource-level check            | ‚úÖ Permission: VIEW/higher<br>‚úÖ Access: PARTIAL/ALL                                      | ‚ùå No             | ‚ùå No                           | ‚úÖ Already correct |
| **10** | **Sales Agent Show**      | `GET /portfolio`<br>`GET /portfolio/:id`<br>`GET /portfolio/export/all` | Always shown                                        | ‚úÖ **Internal users**: Shown<br>‚úÖ **External users**: Hidden                             | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **11** | **View Portfolio List**   | `GET /portfolio`                                                        | Permission: READ                                    | ‚úÖ Permission: VIEW/higher<br>‚úÖ Access: PARTIAL/ALL<br>+ Sales agent hidden for external | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **12** | **View Single Portfolio** | `GET /portfolio/:id`                                                    | Permission: READ                                    | ‚úÖ Permission: VIEW/higher<br>‚úÖ Access: PARTIAL/ALL<br>+ Sales agent hidden for external | ‚ùå No             | ‚ùå No                           | ‚úÖ **UPDATED**     |
| **13** | **View Portfolio Stats**  | `GET /portfolio/:id/stats`                                              | Permission: READ                                    | ‚úÖ Permission: VIEW/higher<br>‚úÖ Access: PARTIAL/ALL                                      | ‚ùå No             | ‚ùå No                           | ‚úÖ Already correct |
